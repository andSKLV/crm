<div class="ul_container">
    <div ng-repeat="param in currObj" class="ul"
         
    ng-class="[
    {ul_move_to_left: newDashboard.toLeft($index)},
    {ul_move_from_left: newDashboard.fromLeft($index)},
    {ul_move_to_right: newDashboard.toRight($index)},
    {ul_move_from_right: newDashboard.fromRight($index)}
    ]" ng-if="$index==newDashboard.previousPage || $index==newDashboard.currentPage" >

         <!-- найти/создать/изменить расчет или компанию -->
        <div ng-if="param.type=='search/create'">
            <div>
                <input ng-controller="searchCtrl as searchCtrl" type="search" ng-model="param.values[0].name" placeholder="Найти"
                ng-keyup="param.values[0].name.length>=1 ? searchCtrl.searchForPolis({
                    type: param.name,
                    value: param.values[0].name
                }) : ''" 
                >
            </div>
            <div ng-click="changeLocation(param.name)">Создать/Изменить</div>
        </div>

        <!-- доп. списки -->
        <div ng-if="param.type=='lists'">
            <div ng-repeat="addition in dashboard.myFactory.polisObj.conditions" ng-class="{alreadySelected: addition.included}" ng-click="addition.included=!addition.included">{{
                addition.name
            }}</div>
            <div class="addAddition" ng-click="dashboard.myFactory.addNewPolisProperty(); dashboard.relocatePage({urlTo:'polisEditor'})">Добавить</div>
        </div>
        <!-- финансовый блок -->
        <div ng-if="param.type=='finance'">
            <div ng-if="dashboard.myFactory.parks.length===0">Финансовый блок не доступен пока не добавлен расчет</div>
            <div ng-if="dashboard.myFactory.parks.length>0" ng-repeat="value in param.values" ng-click="dashboard.relocatePage({urlTo:'finance'})">{{value.name}}</div>
        </div>

        <!-- Даты, пока не придумал -->
        <!-- <div id="horizontal-container"  ng-if="param.type=='dates'" class="sortable-row" as-sortable="sortableOptions" data-ng-model="itemsList.items1">
          
                <div ng-repeat="item in itemsList.items1" as-sortable-item>
                    <div as-sortable-item-handle>{{item.Label}}</div>
                </div>
                
        </div> -->
        <div ng-if="param.type=='dates'" >
            <div ng-repeat="val in param.values" ng-click="(val.type=='btn')?btnClick(val.control):''">
                {{(val.type=='btn')? val.name : ''}}
                <input ng-if="val.type=='date'" id="input_{{val.control}}"
                type="text" onfocus="(this.type='date')" onblur="(this.type='text')" placeholder="{{val.name}}" 
                ng-keydown="keydownHandler($event, param, val)"
                ng-model="myFactory.polisObj.dates[val.control]" 
                ng-blur="endChange(val.control)">
                <select class="company_dashboard_inputs" ng-if="val.type=='select'" ng-change="endChange(val.control)" ng-model="myFactory.polisObj.dates[val.control]">
                    <option value="" disabled selected>Срок документа</option>    
                    <option ng-repeat="option in val.values" value="{{option}}">{{option}}</option>
                </select>
            </div>
        </div>
    </div>

</div>
<div class="nav">
    <div>
        <div ng-repeat="param in currObj"
             ng-click="newDashboard.setCurrentPage($index)"
             ng-class="[
                {mi_selected: newDashboard.checkCurrentPage($index)},
                {alreadySelected: newDashboard.alreadySelected($index)}
             ]">
            {{param.name}}
        </div>
        <div ng-if="newDashboard.allSelected()"ng-click="polisCtrl.makePDF()">Преобразовать в документ</div>
    </div>
</div>
