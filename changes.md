Изменения 31.05.2018:
 + Случайное удаление строк в режиме «мульти» 	исправлено
 + Решена проблема с кэшированием страниц
 + Описание мульти-узла без лишних знаков
 + Описание мульти-узла по центру
 + Изменен внешний вид кнопки «мульти» 
 + Добавлена иконка "Капитал полис" на закладке в браузере

Изменения 01.06.2018:
 + Кнопка "Выбрать все" в п. "Риски - Противоправные действия" удалена
 + Таблица с парком больше не урезается, а растягивается вниз

Изменения 13.06.2018:
 + Кнопка "Все пакеты" удалена
 + Нижняя планка должна липнуть к таблице

Изменения 14.06.2018:
 + Пересчет макс размера таблицы происходит автоматически при всех случаях появления новой строки: копирование, создание новой
 + Исправлен баг с неправильным расчетом фактической цены если кол-во транспорта при базовых присках меньше чем на других рисках. Кол-во транспорта у базовых рисков при расчете приравнивается к наибольшему в парке, в интерфейсе таблицы значение остается прежним. 
 
Изменения 15.06.2018:
 + Сделать json ответ с БД на локале FIXME: так нельзя, временная мера, надо разобраться и исправить

Изменения 19.06.2018:
 + Решена проблема с неправильной загрузкой старых расчетов из БД, что вело за собой следующие проблемы (на примере ПТК 18 ТС 187406р):
    + При уменьшении кол-ва тягачей итоговая сумма увеличивалась
    + изменение фактической премии при клике на клетку и нажатии "энтер" и др. действиях
    + Фактическая премия перезаписывалась
 + Небольшие изменения в перерасчете размера таблицы, чтобы она не вылезала за границу окна браузера

Изменения 20.06.2018:
 + Из старых расчетов: при копировании строки считается по старой цене с коэффициентом

Изменения 22.06.2018:
 + Решена проблема: Если скопировать мульти узел с грузом, то он создавал новый парк
 + При копировании мульти узла теперь сразу выделяется ячейка для выбора рисков
 + Переписана функция удаления строки и мульти узла из парка, что решило следующие две проблемы, а также некоторые другие:  
 + Решена проблема: Если создать мульти узел, развернуть его и удалить одну строчку, то кнопка "свернуть узел исчезала
 + Решена проблема: Если создать строку с мульти грузом и мульти рисками, "развернуть узел" и удалять некоторые строки, то кнопка "свернуть узел" исчезала; если удалить все строки кроме одной, то кнопка "сверну узел" оставалась; при некоторых обстоятельствах исчезали случайные строки.

Изменения 28.06.2018:
 + Написана функция распределния надбавки за тип отсека по соотношению лимитов, франшиз и грузооборотов. Это решило следующую проблему:
 + Решена проблема с увеличением общей страховой премии при удалении строки с значительно меньшим лимитом (а также большей франшизой или меньшим грузооборотом)

Изменения 02.07.2018:
 + Откорректировано распределение ставки по франшизам

Изменения 05.07.2018:
 + Исправлена проблема с неправильным значением фактической премии при загрузке расчетов из базы данных

Изменения 10.07.2018:
 + В подсказке при наведении на риск размер шрифта сделан адаптивным и зависит от размеров экрана, теперь текст должен всегда помещаться полностью
 + Решена проблема: Если сделать комплексный узел и из него убрать все выделенные риски в каретке, то это приведет к ошибке.
 + Написана функция добавления комплексного узла внутри комплексного узла (и пакета), что также решает следующую проблему:
    + Создать пакет "международный" -> развернуть -> тип отсека сделать комплексным -> копируется случайный риск.

Изменения 13.07.2018:
 + Исправлена проблема с уменьшением фактической премии с увеличение этапов платежей при некоторых обстоятельствах
 + Решена проблема с удалением параметра из неправильного комплексного узла в случае если в комплексном узле оставить только один параметр (например, был тент+автовоз, нажать на автовоз, чтобы остался только тент)
 + Принимать объем перевозок базовых рисков как максимум в парке даже при наличии мульти узлов
 + При копировании мульти узла копируется в новый парк

Изменения 19.07.2018:
 + Склонение слов тягачи и рейсы
 + При нестандартном значении ячейки (напр. 17 тягачей), при клике переход курсора сразу в ячейку ввода
 + Агентская премия: максимальное значение не более 50%
 + Агентская премия: изначально выбраны проценты
 + Решена проблема: в некоторых случаях, например, если мульти узел в мульти узле, при клике на "не мульти" параметр в каретке отображалось название с лишними знаками ["название"]. https://photos.app.goo.gl/Gm4TxuNJMjCNtidSA
 + Решена проблема: если в парке две строчки, одна из которых мульти узел, создание во второй строчке отличающегося мульти узла вызывало ошибку. https://photos.app.goo.gl/kqMyBwkHyDqgfwLz6

Изменения 26.07.2018:
 + Переписана функция копирования параметров ячейки по нажатию кнопки вниз
 + Добавлена возможность копирования ячейки с мульти-параметрами вниз
 + Исправлено: если при копировании параметра ячейки типа отсека внизу находится мульти узел, то его структура будет нарушена, что приведет к неправельному подсчету премии и в дальнейшем к ошибке во взаимодействии. https://photos.app.goo.gl/bgBYr7Fe4omWeMzY7
 + Кнопка "Вернуться" работает

Изменения 03.08.2018:
 + Полностью переписаны функции сворачивания и разворачивания комплексных узлов. Решены проблемы с исчезновением стрелок для сворачивания, появлением ненужных или неработающих стрелок, случайные изменения состава комплексного узла после сворачивания-разворачивания
 Визуализация работы до:https://photos.app.goo.gl/L7RJYGzgK3oiBdxK8
 Визуализация работы после: https://photos.app.goo.gl/GCvFw92nM8AJUj1VA
 + При добавлении новой строки через каретку, теперь она всегда добавляется в конец таблицы, а не в случайное место.
 + Вернул прежнее правило: При добавлении новой строки через каретку, она добавляется первой после базовых рисков в таблицу.

Изменения 07.08.2018:
 + Исправлено: при создании комплексного узла (тип отсека) из строчки с Базовыми рисками, новая строчка Базовых рисков перемещается в случайное место. Визуализация проблемы: https://photos.app.goo.gl/9LpkXMtBPiSFVRr89
 + Исправлена функция сортировки строк при развертывании комплесного узла
 + Устранена проблема с некорректным удалением комплексных узлов. Визуализация проблемы: https://photos.app.goo.gl/6NPpxjyfFG8oJhFv7

Изменения 10.08.2018:
 + Решена проблема с дергающейся таблицей и появлением на мгновение лишние ячейки в различных ситуациях
 + Исправлена проблема со структурой данных из-за чего расчеты с большим парком могли не загружаться. На уже сохраненные расчеты это не повлияет и будет работать только в новых
 + Исправлено разворачивание комплексного узла с несколькими типами отсека и пакетом (напр. Международный) одновременно. 

Изменения 14.08.2018:
 + Решена проблема: в БД существуют старые расчеты (созданные до появления распределения надбавки за тип отсека), в которых при выставлении фактической премии ниже расчетной стоимость некоторых рисков равнялась 0. Загрузка таких рисков приводила к ошибке.
 + Решена проблема: При выходе из расчета в главное меню данные не обнулялись, что влияло на новые расчеты.
 + Решена проблема: Если на обычном риске с включенной кнопкой "мульти" выбрать тот же риск, это приводит к ошибке.
 + На большинстве кнопок изменен курсор при наведении мышки на "руку с пальцем", чтобы было интуитивно понятно, что кнопка нажимается.
 
 Изменения 17.08.2018:
 + Решена проблема с дергающейся таблицей в случае изменения параметра на комплексный узел. На данный момент больше случаев дергающейся таблицы не выявлено.
 + Добавлена всплывающая подсказка при наведении курсора на стрелки копирования параметра, сворачивания/разворачивания комплексного узла и сворачивания парка.

 Изменения 20.08.2018:
 + Решена проблема с невозможностью сохранить расчет, если в парке есть комплексный узел внутри комплексного узла.

 Изменения 24.08.2018:
 + Решена проблема с работой кнопки "Вернуться" в браузере Firefox
 + Добавлена проверка на наличие такой строчки в парке при копировании строки, при создании мульти-узла из ячейки и при изменении мульти-узла. Мульти-узел переносится в новый парк при попытке создать дублирующую строку. Визуализация проблемы: https://photos.app.goo.gl/2B5oHw7F3VoqydyY6

 Изменения 29.08.2018:
 + Исправлено: при создании комплексного узла с пакетами и другими рисками одновременно риски в парке дублируются. Теперь можно создавать пакеты одновременно с другими рисками за один раз не беспокоясь о дублировании. Лимиты считаются исходя из наибольшего в выбранных пакетах. Визуализация проблемы: https://photos.app.goo.gl/JGGuh6jbURWXb1dm9 . Как стало: https://photos.app.goo.gl/6Kteus5AD3kQnU517

 Изменения 27.08.2018:
 + Решена проблема с ошибкой некоторых старых расчетов. Визуализация проблемы: https://photos.app.goo.gl/3WP9nQiXpVdhzYMDA

 Изменения 31.08.2018:
 + Добавлена возможность создавать шаблоны для пакетов с лимитом в количество раз. Визуализация работы такого пакета, а также того, как легко и быстро добавляется новый пакет: https://photos.app.goo.gl/t4539afE6DGAJKuAA
 + При копировании строки и изменении этой копии на пакет, он автоматически переносится в новый парк.

Изменения-dev  07.09.2018:
 + Добавлено поле конфигурация: теперь можно добавлять новые типы рисков (регион и т.д.)
 + Если в каретке какой то параметр только один, то автоматически убирается вложенность. Визуализация: https://photos.app.goo.gl/yvzxMRCKMUuhHBFx9
 + Для подсказки при наведении на свернутый узел увеличен шрифт и изменен цвет на красный
 + Исправлена ошибка: если комплексный узел преобразовать в пакет это привет к некорректной работе

Изменения 11.09.2018:
 + Исправлена некорректная работа каретки при уровне вложенности более второго.
 + При уровне вложенности 2 и более появляется идентификатор уровня.
 + При наведении на идентификатор всплывает подсказка "Уровень вложенности"
 Визуализация: https://photos.app.goo.gl/ocKpkJSJvV6KuZ2S8

Изменения 17.09.2018:
 + Добавлена возможность иметь несколько типов матриц и переключаться между с помощью кнопки выбора. Кнопка исчезает если в матрице есть хоть одна строчка.
 + Добавлено поле названия расчета, которое меняется после загрузки расчета из БД и сохранения расчета в БД.
 + При нажатии на идентификаторе углубления каретки вложенность переходит на один уровень выше.

Изменения 21.09.2018:
    ###Карточка клиента:
 + Добавлена возможность перейти в редактирование карточки клиента из поиска.
 + Изменен внешний вид. У ячеек добавились заголовки. Красный заголовок означает пустую ячейку.
 + Добавлена навигация по нажатию на кнопки Tab и Enter.
 + Ускорена анимация появления ячеек.
    ###Калькулятор:
 + В калькуляторе: диалог "Вернуться->Вернуться в основное меню->Да" заменен на одну кнопку "Вернуться в основное меню". Расчет при этом не удаляется, поэтому ошибочный переход в меню не кретичен.
    Главное меню:
 + Добавлен пункт "юр.лицо" в раздел "Новый"
 + "новый расчет" и "новый юр.лицо" обнуляют соответствующие данные.
    ###Общее:
 + Изменена навигация в в целом, приведена к общему виду, например, теперь везде надпись "вернуться в основное меню" вместо трех разных надписей в разных частях программы.
 + Навигационные надписи стали отчетливее, надписи в ячейка для заполнения стали менее заметными, в пустых ячейках для выбора даты изменен шрифт на тот что и везде.
 
Изменения 26.09.2018:
 + Во всех окнах добавлена шапка с названием текущего окна и названием расчета/юр.лица (ситуативно)
 + Добавлена возможность создания нового полиса из главного меню. Создание нового расчета/юр лица из главного меню ведет к удалению старого расчета/юр лица, если они были
 + Примерно на середине левой границы экрана добавлена навигационная панель:
  В Главном меню:
   - кнопка "вернуться в" позволяет вернуться в расчет/юр лицо/полис. При нажатии на кнопку появляются опции выбора куда вернуться в зависимости от того было ли уже что-то заполнено. (например, сделали расчет и перешли в главное меню, тогда повится кнопка "вернуться в... расчет"). Кнопка появляется только если уже было заполнено хотя бы одно окно (Расчет/Юр.лицо/Полис)
  В Расчете и Юр.лице:
   - кнопка "Главное меню" для перехода в главное меню
   - кнопка "Тип каретки" для переключения "перевозчик/экспедитор". Существует только в окне Расчет и если расчет пустой. 
   - кнопка "Очистить расчет/Очистить таблицу". Удаляет все строчки расчета или введенные данные в таблице карты клиента, создает пустой расчет/юр.лицо. Существует только, если существует хотя бы одна строчка в расчете или заполнена хотя бы одна клетка в карте клиента
   - кнопка "Сохранить". Переводит каретку в меню сохранения расчета. Существует только, если существует хотя бы одна строчка в расчете. Пока не работает в окне юр. лица
   - кнопка "Полис". Переход в меню создания полиса. Существует только, если существует хотя бы одна строчка в расчете/юр.лице
 + Приведен в порядок внешний вид таблицы результатов поиска расчетов в окне Полис

Изменения 27.09.2018:
 + Деактивация кнопки создания нового расчета или полиса, если уже какое то из этих полей уже в работе 
 + В главном меню панель "Вернуться в" изначально развернута. Автоматически сворачивается если начат поиск расчета/компании

Изменения 12.10.2018:
 + Добавлено окно с информацией по компании (карточка данных компании, привязанные расчеты, полисы, агенты и тд)
 + Добавлена возможность привязать расчет к компании
 + Добавлена возможность пересохранить старый расчет с новыми данными
 + В окне создания проекта документа у расчета теперь есть планка с итоговыми значениями (премия, этапы, кол-во машин и тд)
 + Добавлена возможность сохранения карточки клиента. Также при изменении/добавлении данных и сохранении карточки, карточка пересохраняется, а также в БД записываются все изменения
 https://yadi.sk/i/Whbp6JyN-md3iQ

TODO:
 - Сделать Хелп
!- Сборка проекта вебпак
 ...Финансы:
    - Добавить +- как в калькуляторе
    - Изменение полей в каретке
FIXME:
 - Если в парке 1 строка и ее скопировать, то она исчезнет.
